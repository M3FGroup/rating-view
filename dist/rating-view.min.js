var RatingView=function(t,a){function r(t){void 0==t&&(t=c);var a=Math.floor(t/(2*v)),r=Math.round(t/(2*v)%1),o=Math.abs(Math.round(t/(2*v))-l)-1;n.html("");for(var s=0;o>=s;s++){var i=$("<div>").css("color",u).addClass(p.empty);n.prepend(i)}if(r>0){var e=$("<div>").css("color",u).addClass(p.half);"rtl"==d&&e.css("transform","rotateY(180deg)"),n.prepend(e)}for(var f=0;a>f;f++){var h=$("<div>").css("color",u).addClass(p.full);n.prepend(h)}}function o(){"ltr"==d?e.css("left",0):"rtl"==d&&e.css("right",0);var t=n.width(),a=n.height(),o=t/(2*l+1),s=a+5;e.width(t+o),e.height(a);for(var i=0,f=0;2*l+1>f;f++){var u=$('<div data-star="'+i+'">');u.width(o),u.height(s),u.css("display","inline-block"),h||(u.css("cursor","pointer"),u.click(function(){c=$(this).attr("data-star"),r(c),"function"==typeof g&&g(c)}),u.hover(function(){var t=$(this).attr("data-star");r(t),"function"==typeof y&&y(c,t)})),e.append(u),i+=v}e.mouseout(function(){r()})}function s(){i.css("display","inline-block").css("position","relative"),r(),i.append(n),o(),i.append(e),i.css("direction",d)}var i=$(t),n=$('<div class="rate-view">'),e=$('<div class="rate-selector" style="display: inline-block;position:absolute;top:0;">'),l=a.rateCount||5,c=a.current||0,f=a.totalScore||10,d=a.direction||"ltr",u=a.color||"#E4A70A",h=a.readonly||!1,p=a.rateClass||{full:"fa fa-star fa-lg",half:"fa fa-star-half-o fa-lg",empty:"fa fa-star-o fa-lg"},v=f/l/2,g=a.change||function(){},y=a.hover||function(){};this.setValue=function(t){r(t)},this.getValue=function(){return c},s()};